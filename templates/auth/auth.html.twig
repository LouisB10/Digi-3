{% extends 'base.html.twig' %} {% block title %}Digi-3 - Page
d'authentification{% endblock %} {% block body %}
<div class="auth-container">
  <div class="auth-section flex" style="display: none" id="loginSection">
    <form id="login_form" method="POST" action="{{ path('app_auth') }}">
      <input type="hidden" name="action" value="login">
      <label for="email">Email</label>
      <input type="email" id="email" name="email" required />
  
      <label for="password">Mot de passe</label>
      <input type="password" id="password" name="password" required />
  
      <label for="rememberMe">Rester connecté</label>
      <input type="checkbox" id="rememberMe" name="rememberMe" />
  
      {% if error %}
          <div class="error">{{ error }}</div>
      {% endif %}
  
      <button type="submit">Se connecter</button>
  </form>
    <div class="auth-decorate flex-col">
      <h3>Bonjour mon ami !</h3>
      <p>
        Entrez vos informations personnelles et commencez l'aventure avec nous
      </p>
      <a href="" id="switchToRegister">S'inscrire</a>
    </div>
  </div>
  <div class="auth-section flex" id="registerSection">
    <div class="auth-decorate flex-col">
      <h3>Content de te revoir !</h3>
      <p>
        Pour rester dans l'aventure avec nous connectez-vous avec vos
        informations personnelles
      </p>
      <a href="" id="switchToLogin">Se connecter</a>
    </div>
    <form id="registration_form"method="POST" action="{{ path('app_auth') }}">
      <input type="hidden" name="action" value="register">
      <label for="name">Nom d'utilisateur</label>
      <input type="text" id="name" name="name" required />
  
      <label for="email">Email</label>
      <input type="email" id="email" name="email" required />
  
      <label for="password">Mot de passe</label>
      <input type="password" id="password" name="password" required />
  
      {% if error %}
          <div class="error">{{ error }}</div>
      {% endif %}
  
      <button type="submit" class="auth-submit">S'inscrire</button>
  </form>
  </div>
</div>

{% endblock %} {% block javascripts %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Étape 1 : Cibler les éléments
    const loginSection = document.getElementById("loginSection");
    const registerSection = document.getElementById("registerSection");
    const switchToRegister = document.getElementById("switchToRegister");
    const switchToLogin = document.getElementById("switchToLogin");

    // Étape 2 : Ajouter des événements de clic
    switchToRegister.addEventListener("click", function (event) {
      event.preventDefault();
      showRegisterSection();
    });

    switchToLogin.addEventListener("click", function (event) {
      event.preventDefault();
      showLoginSection();
    });

    // Étape 3 : Fonctions pour afficher/masquer les sections
    function showRegisterSection() {
      loginSection.style.display = "none";
      registerSection.style.display = "flex";
    }

    function showLoginSection() {
      registerSection.style.display = "none";
      loginSection.style.display = "flex";
    }
  });
</script>

{% endblock %}
