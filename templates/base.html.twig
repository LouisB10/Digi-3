<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Digi-3 - Gestion de projets{% endblock %}</title>
    <meta name="description" content="Digi-3 est une application de gestion de projets et de salariés">
    <meta name="keywords" content="Digi-3, gestion de projet, projet, salarié, jira">
    <meta name="author" content="Digi-3">
    <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="referrer" content="no-referrer">
    <meta name="google-site-verification" content="">

    <!-- Favicon -->
    <link rel="icon" href="{{ asset('favicon/favicon.ico') }}" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ asset('favicon/apple-touch-icon.png') }}">
    <link rel="icon" type="image/png" sizes="512x512" href="{{ asset('favicon/android-chrome-512x512.png') }}">
    <link rel="icon" type="image/png" sizes="192x192" href="{{ asset('favicon/android-chrome-192x192.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ asset('favicon/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ asset('favicon/favicon-16x16.png') }}">
    
    <!-- Police Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">

    <!-- Open Graph -->
    <meta property="og:title" content="Digi-3 - Gestion de projets">
    <meta property="og:description" content="Digi-3 est une application de gestion de projets et de salariés">
    <meta property="og:image" content="{{ asset('build/images/readme.webp') }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.digi-3.fr">
    
    {% block stylesheets %}
        {{ encore_entry_link_tags('app') }}
    {% endblock %}
    
    <style>
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #000;
            color: white;
            padding: 8px;
            z-index: 100;
            transition: top 0.3s;
        }
        
        .skip-link:focus {
            top: 0;
        }
    </style>
</head>
<body>
    <!-- Lien d'évitement pour l'accessibilité -->
    <a href="#main-content" class="skip-link">Aller au contenu principal</a>
    
    {% block body %}{% endblock %}
    
    {% block javascripts %}
        {{ encore_entry_script_tags('app') }}
    {% endblock %}
    
    <script>
        // Script pour améliorer l'accessibilité
        document.addEventListener('DOMContentLoaded', function() {
            // Ajouter des attributs ARIA aux éléments interactifs sans label
            const interactiveElements = document.querySelectorAll('button:not([aria-label]):not([aria-labelledby]), a:not([aria-label]):not([aria-labelledby])');
            interactiveElements.forEach(function(element) {
                if (!element.textContent.trim() && !element.getAttribute('aria-label')) {
                    console.warn('Élément interactif sans texte ni attribut aria-label détecté:', element);
                }
            });
            
            // Assurer que tous les champs de formulaire ont des labels associés
            const formFields = document.querySelectorAll('input, select, textarea');
            formFields.forEach(function(field) {
                const id = field.getAttribute('id');
                if (id) {
                    const label = document.querySelector(`label[for="${id}"]`);
                    if (!label && !field.getAttribute('aria-label') && !field.getAttribute('aria-labelledby')) {
                        console.warn('Champ de formulaire sans label associé détecté:', field);
                    }
                } else if (!field.getAttribute('aria-label') && !field.getAttribute('aria-labelledby')) {
                    console.warn('Champ de formulaire sans ID ni attribut aria-label détecté:', field);
                }
            });
        });
    </script>
</body>
</html>